<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Karl Ropkins" />

<meta name="date" content="2025-06-24" />

<title>Introduction to R:pems.utils</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to R:pems.utils</h1>
<h4 class="author">Karl Ropkins</h4>
<h4 class="date">2025-06-24</h4>



<div id="rpems.utils" class="section level1">
<h1>R:pems.utils</h1>
<p>The <strong>R</strong> package <strong>pems.utils</strong> was
developed as part of work on a series of vehicle emissions measurement
studies, and originally intended for use with datasets collected using
Portable Emission Measurement Systems or PEMS.</p>
<blockquote>
<p>This note assumes you already have <strong>R</strong>. If not and
anything here is of interest, <strong>R</strong> is open-source and
free-to-distribute, and you can get it from <a href="https://www.r-project.org/" target="_blank">[&gt;the R
Project]</a>.</p>
</blockquote>
<blockquote>
<p>For those that are unfamiliar with them, PEMS are on-board systems
that measure the emissions of in-use vehicles. PEMS data collection is
one of a number of methods developed to provide real-world alternatives
to laboratory-based emissions measurement methods traditionally used in
regulatory practices. <a href="https://en.wikipedia.org/wiki/Portable_emissions_measurement_system" target="_blank">[&gt;for further information]</a></p>
</blockquote>
<p>The rationale behind <strong>pems.utils</strong> was two-fold:</p>
<ol style="list-style-type: decimal">
<li>To streamline mundane, laborious and often error-prone elements of
routine data handling; and,</li>
<li>To provide mobile data users with higher-level tools for the
analysis of in-journey data.</li>
</ol>
<blockquote>
<p>Although originally intended for use with PEMS data,
<strong>pems.utils</strong> has also been used with datasets collected
with other mobile systems. So, if you are working with time-series
collected by any moving objects, <strong>pems.utils</strong> may also be
of interest.</p>
</blockquote>
<blockquote>
<p>If you use <strong>pems.utils</strong>, I hope it makes your work
easier, better or maybe even both.</p>
</blockquote>
<blockquote>
<p>If you have any suggestions how to make pems.utils better or you have
any problems using it, please let me know. <a href="mailto:karl.ropkins@gmail.com">[&gt;email me]</a>.</p>
</blockquote>
<blockquote>
<p>Return to <a href="http://pems.r-forge.r-project.org/index.html">[&gt;the website
index]</a>.</p>
</blockquote>
</div>
<div id="getting-pems.utils" class="section level1">
<h1>Getting pems.utils</h1>
<p>Installing <strong>pems.utils</strong> from <strong>R</strong>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#Release version from main archive CRAN:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;pems.utils&quot;</span>) </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co">#Developer&#39;s version from r-forge:</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;pems.utils&quot;</span>, <span class="at">repos=</span><span class="st">&quot;http://R-Forge.R-project.org&quot;</span>)</span></code></pre></div>
<p>Loading <strong>pems.utils</strong>, once it is installed:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(pems.utils) </span></code></pre></div>
</div>
<div id="pems-data-structures" class="section level1">
<h1>PEMS Data Structures</h1>
<p><strong>pems.utils</strong> uses two data types,
<strong>pems</strong> and <strong>pems.element</strong>s, to manage data
structure like units and meta information. <strong>pems.utils</strong>
includes <strong>pems.1</strong> as an example <strong>pems</strong>
object:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>pems<span class="fl">.1</span></span></code></pre></div>
<pre><code>## pems (1000x25)
##               time.stamp  local.time  conc.co  conc.co2  conc.hc  conc.nox
##        [Y-M-D H:M:S GMT]         [s]   [vol%]    [vol%]  [ppmC6]     [ppm]
##   1  2005-09-08 11:46:07           0        0         0        0    20.447
##   2  2005-09-08 11:46:08           1        0         0        0    21.973
##   3  2005-09-08 11:46:09           2        0         0        0    20.752
##   4  2005-09-08 11:46:10           3        0         0        0    22.583
##   5  2005-09-08 11:46:11           4        0         0        0    20.142
##   6  2005-09-08 11:46:12           5        0         0        0    20.142
##  ... not showing: 994 rows; 19 cols (elements) 
##  ... other cols: afr; exh.flow.rate[L/min]; exh.temp[degC]; exh.press[kPa];
##       amb.temp[degC]; amb.press[kPa]; amb.humidity[%]; velocity[km/h];
##       revolution[rpm]; option.1[V]; option2[V]; option.3[V];
##       latitude[d.degLat]; longitude[d.degLon]; altitude[m];
##       gps.velocity[km/h]; satellite; n.s; w.e</code></pre>
<p>Like a <strong>data.frame</strong>, the <strong>pems</strong> object
contains named data-series as columns. However, unlike a
<strong>data.frame</strong>:</p>
<ul>
<li>It associates units with each column. For example, the first column,
<strong>time.stamp</strong> has units of <em>Y-M-D H:M:S GMT</em>,
reported in the second row of the print output.</li>
<li>By default, it limits displayed data to a screen-friendly range and
a summary report of other columns and rows. This is a nice idea from
<strong>tibbles</strong> for the tidy handling of larger datasets <a href="https://cran.r-project.org/web/packages/tibble/vignettes/tibble.html" target="_blank">[&gt;for more about tibbles]</a></li>
<li>All the columns in a <strong>pems</strong> object are
<strong>pems.elements</strong>.</li>
</ul>
<p><strong>pems.elements</strong> can be extract from
<strong>pems</strong> using <strong>$</strong> and <strong>[.]</strong>
operators, for example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>time.stamp</span></code></pre></div>
<pre><code>## pems.element [n=1000]
##    [1] &quot;2005-09-08 11:46:07 GMT&quot; &quot;2005-09-08 11:46:08 GMT&quot;
##    [3] &quot;2005-09-08 11:46:09 GMT&quot; &quot;2005-09-08 11:46:10 GMT&quot;
##    [5] &quot;2005-09-08 11:46:11 GMT&quot; &quot;2005-09-08 11:46:12 GMT&quot;
##    ... not showing: 497 rows
##    ... &lt;POSIXct,POSIXt&gt; time.stamp [Y-M-D H:M:S GMT]</code></pre>
<p><strong>pems.element</strong>s act like other vectors but, like
<strong>pems</strong>, track units and limits the default print range to
prevent long data-series filling the screen.</p>
<blockquote>
<p>See <a href="http://pems.r-forge.r-project.org/pems.utils.operators.html">[&gt;pems.utils
operators]</a> for more about operators.</p>
</blockquote>
<blockquote>
<p>See also <code>print</code> in <a href="http://pems.r-forge.r-project.org/pems.utils.generics.html">[&gt;pems.utils
generics]</a> or R help documentation (?pems.generics) for more about
print report management.</p>
</blockquote>
</div>
<div id="importing-pems-data" class="section level1">
<h1>Importing PEMS Data</h1>
<p>You can make <strong>pems</strong> and <strong>pems.elements</strong>
objects using <strong>pems()</strong> and
<strong>pems.element()</strong>, but you are more likely to import PEMS
data from a file previously logged by a PEMS or other mobile measurement
system.</p>
<p>A family of <strong>import2PEMS()</strong> functions are included in
<strong>pems.utils</strong> for such work. These are typically used in
the form:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>my.pems <span class="ot">&lt;-</span> <span class="fu">import2PEMS</span>()</span></code></pre></div>
<blockquote>
<p>See <a href="http://pems.r-forge.r-project.org/pems.utils.input.output.html">[&gt;pems.utils
input/output]</a> or R help documentation (?import2PEMS) for further
details.</p>
</blockquote>
</div>
<div id="pems-data-handling" class="section level1">
<h1>PEMS Data Handling</h1>
<p><strong>pems</strong> and <strong>pems.element</strong> objects can
be handled like <strong>data.frames</strong> and
<strong>vectors</strong>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co">#first three rows and two columns of pems.1 </span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>pems<span class="fl">.1</span>[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## pems (3x2)
##               time.stamp  local.time
##        [Y-M-D H:M:S GMT]         [s]
##   1  2005-09-08 11:46:07           0
##   2  2005-09-08 11:46:08           1
##   3  2005-09-08 11:46:09           2</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co">#15th to 25th velocity records in pems.1 </span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>pems<span class="fl">.1</span>[<span class="dv">15</span><span class="sc">:</span><span class="dv">25</span>, <span class="st">&quot;velocity&quot;</span>]</span></code></pre></div>
<pre><code>## pems.element [n=11]
##  [1] 0.1 0.3 0.2 0.3 0.2 0.4 0.1 0.2 0.2 0.1 0.1
##  ... &lt;numeric&gt; velocity [km/h]</code></pre>
<p>They are however a little stricter, for example:</p>
<ul>
<li>Calling part of <strong>pems</strong> object that does not exist
generates an error rather than a <code>NULL</code>.</li>
<li>An added element does not wrap, unless specifically told to.
<ul>
<li>So, <code>pems.1$new &lt;- 1</code> would add a
<strong>pems.element</strong> called <strong>new</strong> to
<strong>pems.1</strong> which contained a ‘1’ followed by row a ’NA’s
rather than a row of ’1’s.</li>
</ul></li>
</ul>
<blockquote>
<p><em>Why did we do this?</em> PEMS and other mobile data sources are
typically contiguous data-series, each record following the one before
in time order. If we align two datasets we rarely want data logged in
shorter datasets wrapped and repeated alongside more than one row in
longer datasets.</p>
</blockquote>
<p>You can modify and calculate new data-series manually using
<strong>R</strong>, but functions are also included in
<strong>pems.utils</strong> for many common mobile data conversions and
parameter calculations, for example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>velocity</span></code></pre></div>
<pre><code>## pems.element [n=1000]
##    [1]  0.1  0.1  0.3  0.3  0.2  0.4  0.3  0.7  0.1  0.2  0.2  0.2  0.1  0.2
##   [15]  0.1  0.3  0.2  0.3  0.2  0.4  0.1  0.2  0.2  0.1  0.1  0.1  0.3  0.2
##   [29]  0.1  0.1  0.2  0.3  0.4  0.1  0.3  0.4  0.1  0.4  0.2  0.2  0.1  0.2
##    ... not showing: 69 rows
##    ... &lt;numeric&gt; velocity [km/h]</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co">#convert pems.1$velocity units to miles per hour</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">convertUnits</span>(pems<span class="fl">.1</span><span class="sc">$</span>velocity, <span class="at">to=</span><span class="st">&quot;mi/h&quot;</span>)</span></code></pre></div>
<pre><code>## pems.element [n=1000]
##    [1]  0.06213712  0.06213712  0.18641136  0.18641136  0.12427424  0.24854848
##    [7]  0.18641136  0.43495983  0.06213712  0.12427424  0.12427424  0.12427424
##   [13]  0.06213712  0.12427424  0.06213712  0.18641136  0.12427424  0.18641136
##    ... not showing: 164 rows
##    ... &lt;numeric&gt; pems.1$velocity [mi/h]</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co">#calculate acceleration and add to pems.1</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>accel <span class="ot">&lt;-</span> <span class="fu">calcAccel</span>(velocity, local.time, pems<span class="fl">.1</span>)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>accel</span></code></pre></div>
<pre><code>## pems.element [n=1000]
##    [1]          NA  0.00000000  0.05555556  0.00000000 -0.02777778  0.05555556
##    [7] -0.02777778  0.11111111 -0.16666667  0.02777778  0.00000000  0.00000000
##   [13] -0.02777778  0.02777778 -0.02777778  0.05555556 -0.02777778  0.02777778
##    ... not showing: 164 rows
##    ... &lt;numeric&gt; accel [m/s/s]</code></pre>
<blockquote>
<p>See <a href="http://pems.r-forge.r-project.org/pems.utils.operators.html">[&gt;pems.utils
operators]</a> and <a href="http://pems.r-forge.r-project.org/pems.utils.generics.html">[&gt;pems.utils
generics]</a> or R help documentation for more about general
<strong>pems</strong> handling.</p>
</blockquote>
<blockquote>
<p>See <a href="http://pems.r-forge.r-project.org/pems.utils.units.html">[&gt;pems.utils
units]</a> or R help documentation (?pems.units) for more about
<strong>pems</strong> units handling.</p>
</blockquote>
</div>
<div id="pems-data-analysis" class="section level1">
<h1>PEMS Data Analysis</h1>
<p>We can use such functions to quickly process and analysis PEMS data,
for example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co">#calculate VSP and CO2 emissions and add both to pems.1</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>vsp <span class="ot">&lt;-</span> <span class="fu">calcVSP</span>(velocity, <span class="at">time =</span> local.time, <span class="at">data =</span> pems<span class="fl">.1</span>)</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>em.co2 <span class="ot">&lt;-</span> <span class="fu">calcEm</span>(conc.co2, <span class="at">data =</span> pems<span class="fl">.1</span>)</span></code></pre></div>
<p>At this stage these are measurements recorded in the same instant and
comparing them suggests a small degree of association:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co">#initial instantaneous comparison</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">pemsPlot</span>(vsp, em.co2, <span class="at">data=</span>pems<span class="fl">.1</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>loa<span class="sc">::</span><span class="fu">add.XYLOESSFit</span>(p, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<blockquote>
<p>Using <strong>loa</strong> package function
<strong>add.XYLOESSFit</strong> to add a LOESS curve to the plot.</p>
</blockquote>
<p>However, there are time offsets between the engine action, the
vehicle activity and the associated emissions leaving the vehicle
exhaust. Aligning <strong>vsp</strong> and <strong>em.co2</strong>
reduces the offset:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co">#align vsp and em.co2</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>pems<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">cAlign</span>(vsp<span class="sc">~</span>em.co2, pems<span class="fl">.1</span>, <span class="at">output=</span><span class="fu">c</span>(<span class="st">&quot;pems&quot;</span>, <span class="st">&quot;offset&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;offset = 2&quot;</code></pre>
<p>In this case the alignment moved <strong>em.co2</strong> two rows
toward relative to <strong>vsp</strong>, and this provides a
significantly stronger relationship.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co">#linear aligned VSP and CO2 emissions</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">pemsPlot</span>(vsp, em.co2, <span class="at">data=</span>pems<span class="fl">.2</span>)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>loa<span class="sc">::</span><span class="fu">add.XYLOESSFit</span>(p, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<blockquote>
<p>Please Note: This is an approximation because the offset is not
fixed.</p>
</blockquote>
<p>In many cases such data is often binned and reported on this
basis:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co">#VSP binning using the Frey et al (2002) 14 mode bins method. </span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>pems<span class="fl">.2</span><span class="sc">$</span>ncsu<span class="fl">.14</span> <span class="ot">&lt;-</span> <span class="fu">refVSPBin</span>(vsp, <span class="at">data=</span>pems<span class="fl">.2</span>)</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="fu">summary</span>(pems<span class="fl">.2</span><span class="sc">$</span>ncsu<span class="fl">.14</span>)</span></code></pre></div>
<pre><code>## MODE01 MODE02 MODE03 MODE04 MODE05 MODE06 MODE07 MODE08 MODE09 MODE10 MODE11 
##    150     58    443    123     64     58     35     23     22     11      5 
## MODE12 MODE13 MODE14   NA&#39;s 
##      3      2      2      3</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co">#frequency plot</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="fu">VSPBinPlot</span>(ncsu<span class="fl">.14</span>, <span class="at">data=</span>pems<span class="fl">.2</span>, <span class="at">xlab=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="co">#emission averages plot</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="fu">VSPBinPlot</span>(ncsu<span class="fl">.14</span>, em.co2, <span class="at">data=</span>pems<span class="fl">.2</span>,</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>           <span class="at">plot.type=</span><span class="dv">2</span>, <span class="at">xlab=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><img role="img" src="data:image/png;base64,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" /></p>
<blockquote>
<p>Note: In this case there are relatively few measurements for bins 10
and above, and averages calculated for these are more uncertain.</p>
</blockquote>
<blockquote>
<p>See <a href="http://pems.r-forge.r-project.org/pems.utils.plots.html">[&gt;pems.utils
plots]</a> or R help documentation (?pems.plots) for more about plotting
<strong>pems</strong>.</p>
</blockquote>
</div>
<div id="pems-data-batching-and-reporting" class="section level1">
<h1>PEMS Data Batching and Reporting</h1>
<p>One of the great things about <strong>R</strong> is that it allows
you to batch process data, for example running the same code on
different sections of a single dataset or different datasets.</p>
<p>The <strong>pems.utils</strong> function
<strong>summaryReport</strong> generates a summary table of some common
vehicle activities parameters:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">summaryReport</span>(velocity, local.time, <span class="at">data=</span>pems<span class="fl">.1</span>)</span></code></pre></div>
<pre><code>##   distance.travelled.km time.total.s avg.speed.km.h avg.running.speed.km.h
## 1              6.186056         1000        22.2698               28.78538
##   time.idle.s time.idle.pc avg.accel.m.s.s time.accel.s time.accel.pc
## 1          40            4       0.7921279          271          27.1
##   avg.decel.m.s.s time.decel.s time.decel.pc
## 1      -0.9039449          238          23.8</code></pre>
<p>If we cut that data in several subsections, we can analysis them
separately and compare results:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>pems<span class="fl">.1</span><span class="sc">$</span>ref <span class="ot">&lt;-</span> <span class="fu">refRow</span>(pems<span class="fl">.1</span>, <span class="at">n=</span><span class="dv">4</span>, <span class="at">labels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="cf">function</span>(x){ </span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>  <span class="fu">summaryReport</span>(velocity, local.time, <span class="at">data=</span>pems<span class="fl">.1</span>[pems<span class="fl">.1</span><span class="sc">$</span>ref<span class="sc">==</span>x,])</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>  })</span></code></pre></div>
<pre><code>##                        [,1]       [,2]       [,3]      [,4]      
## distance.travelled.km  1.281306   1.751556   1.674111  1.479083  
## time.total.s           251        250        250       249       
## avg.speed.km.h         18.37729   25.2224    24.1072   21.38434  
## avg.running.speed.km.h 22.37136   31.82727   32.03138  29.38619  
## time.idle.s            3          14         13        10        
## time.idle.pc           1.195219   5.6        5.2       4.016064  
## avg.accel.m.s.s        0.7419128  0.7680976  0.8423318 0.8117284 
## time.accel.s           79         66         71        54        
## time.accel.pc          31.4741    26.4       28.4      21.68675  
## avg.decel.m.s.s        -0.8488248 -0.7945205 -1.246612 -0.8753968
## time.decel.s           52         73         41        70        
## time.decel.pc          20.71713   29.2       16.4      28.11245</code></pre>
<p>Or if we wanted to compare several datasets:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">list</span>(pems<span class="fl">.1</span>, pems<span class="fl">.1</span>, pems<span class="fl">.1</span>, pems<span class="fl">.1</span>)</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">sapply</span>(temp, <span class="cf">function</span>(x){ </span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>  <span class="fu">summaryReport</span>(velocity, local.time, <span class="at">data=</span>x)</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>  })</span></code></pre></div>
<pre><code>##                        [,1]       [,2]       [,3]       [,4]      
## distance.travelled.km  6.186056   6.186056   6.186056   6.186056  
## time.total.s           1000       1000       1000       1000      
## avg.speed.km.h         22.2698    22.2698    22.2698    22.2698   
## avg.running.speed.km.h 28.78538   28.78538   28.78538   28.78538  
## time.idle.s            40         40         40         40        
## time.idle.pc           4          4          4          4         
## avg.accel.m.s.s        0.7921279  0.7921279  0.7921279  0.7921279 
## time.accel.s           271        271        271        271       
## time.accel.pc          27.1       27.1       27.1       27.1      
## avg.decel.m.s.s        -0.9039449 -0.9039449 -0.9039449 -0.9039449
## time.decel.s           238        238        238        238       
## time.decel.pc          23.8       23.8       23.8       23.8</code></pre>
<p>These examples are relatively crude and there are lots of different
ways to do similar in <strong>R</strong> but hopefully this helps you to
start to see how <strong>R</strong> and <strong>pems.utils</strong>
could help you to analysis data more quickly and easily…</p>
<blockquote>
<p>For further information on these and other
<strong>pems.utils</strong> functions, see in-package documentation.</p>
</blockquote>
<blockquote>
<p>Any thoughts, suggestions or problems, please let me know <a href="mailto:karl.ropkins@gmail.com">[&gt;email me]</a>.</p>
</blockquote>
<blockquote>
<p>Return to <a href="http://pems.r-forge.r-project.org/index.html">[&gt;the website
index]</a>.</p>
</blockquote>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
